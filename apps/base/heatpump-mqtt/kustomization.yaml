apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: heatpump-mqtt
resources:
  - namespace.yaml
  - timescaledb-secret-sealed.yaml
  - postgres-cluster.yaml
  - ghcr-secret-sealed.yaml
  - mosquitto-credentials-sealed.yaml
  - configmap.yaml
  - deployment.yaml
  # Database backup configuration
  # Note: backup-aws-secret.yaml must be sealed before applying
  # See BACKUP_SETUP.md for instructions
  - backup-aws-secret.yaml
  - backup-cronjob.yaml
  # Restore job is NOT included by default - use it manually when needed
  # See BACKUP_SETUP.md for restore instructions