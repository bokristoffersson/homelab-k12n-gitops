id: flux-suspend-kustomization
title: Suspend a Flux Kustomization
intent: flux-suspend
resource: kustomization
risk_level: medium

preconditions:
  - Kustomization must exist in flux-system namespace
  - User has edit permissions for flux-system namespace
  - Understanding that reconciliation will stop

command_template: "flux suspend kustomization {{name}}"

flags: []

examples:
  - goal: Suspend reconciliation during maintenance
    render:
      command: flux suspend kustomization heatpump-settings
      checks:
        - flux get kustomizations heatpump-settings
        - Verify SUSPENDED column shows True

  - goal: Pause all app reconciliation temporarily
    render:
      command: flux suspend kustomization apps
      checks:
        - flux get kustomizations
        - All child kustomizations will also be suspended

postprocess:
  summarize_to_json: false

notes:
  - Stops automatic reconciliation of the Kustomization
  - Useful during maintenance or debugging
  - Changes in Git will NOT be applied while suspended
  - Must manually resume to restore automatic reconciliation
  - Does NOT delete existing resources, only stops updates
  - Remember to resume after maintenance is complete

references:
  - https://fluxcd.io/flux/cmd/flux_suspend_kustomization/
  - https://fluxcd.io/flux/components/kustomize/kustomization/#suspend
