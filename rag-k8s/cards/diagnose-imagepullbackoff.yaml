id: diagnose-imagepullbackoff
title: Diagnose ImagePullBackOff
intent: diagnose
resource: pod
risk_level: none

preconditions:
  - Pod is in ImagePullBackOff or ErrImagePull state
  - User has describe permissions

command_template: "kubectl describe pod {{name}} -n {{namespace}}"

flags: []

examples:
  - goal: Diagnose image pull failure for web pod
    render:
      command: kubectl describe pod web-5f7b8c-qr9z1 -n prod
      checks:
        - Look for "Failed to pull image" in Events
        - Check image name and tag are correct
        - Verify image exists in registry

  - goal: Check if image pull secret is configured
    render:
      command: kubectl describe pod api-abc123 -n staging
      checks:
        - Look for imagePullSecrets in pod spec
        - kubectl get secret -n staging

postprocess:
  summarize_to_json: false

notes:
  - Common causes - typo in image name or tag
  - Image does not exist in registry
  - Missing or invalid imagePullSecrets
  - Registry authentication failure
  - Network connectivity to registry
  - Check image name includes registry host for private registries
  - Verify secret is in same namespace as pod

references:
  - https://kubernetes.io/docs/concepts/containers/images/
  - https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
